# Uncomment the line below to register
# .rss as a valid extension
# AddType application/rss+xml .rss

# It's generally a good idea to set an
# expire time.
<IfModule expires_module>
	ExpiresActive On
	ExpiresDefault "access plus 1 month"
</IfModule>

<Files ~ "^(\.ht|config\.php)">
	order deny,allow
	deny from all
</Files>

<IfModule rewrite_module>
	# Turn the rewrite engine on
	RewriteEngine on
	
	# Relative path to the site (starting at the document root)
	RewriteBase /example/site/
	
	# Set a couple conditions
	RewriteCond %{REQUEST_FILENAME} !-f
	RewriteCond %{REQUEST_FILENAME} !-d
		
	# [styles]
		# Image Repository
		RewriteRule image/([^/]+)/([^/]+)\.([A-Za-z]{3,4})$ Images/$1/$2.$3
		# Image Repository 2 (IE: image/site1/examples/example1.gif)
		RewriteRule image/([^/]+)/([^/]+)/([^/]+)\.([A-Za-z]{3,4})$ Images/$1/$2/$3.$4
		# Image Repository 3 (IE: image/site1/projects/project1/example.gif)
		RewriteRule image/([^/]+)/([^/]+)/([^/]+)/([^/]+)\.([A-Za-z]{3,4})$ Images/$1/$2/$3/$4.$5


		# Style Repository (IE: assets/example/background.gif)
		RewriteRule assets/([^/]+)/([^/]+)\.([A-Za-z]{3,4})$ Styles/$1/style/$2.$3
		# Style Repository 2 (IE: assets/example/images/background.gif)
		RewriteRule assets/([^/]+)/([^/]+)/([^/]+)\.([A-Za-z]{3,4})$ Styles/$1/style/$2/$3.$4
		# Style Repository 3 (IE: assets/example/images/backgrounds/dark.gif)
		RewriteRule assets/([^/]+)/([^/]+)/([^/]+)/([^/]+)\.([A-Za-z]{3,4})$ Styles/$1/style/$2/$3/$4.$5
	# [/styles]


	# Section + Action
	RewriteRule ^([A-Za-z0-9-]+)/([A-Za-z0-9-]+)/?$ index.php?s=$1&a=$2 [L,QSA]
	# Section only
	RewriteRule ^([A-Za-z0-9-]+)/?$ index.php?s=$1&a=main [L,QSA]
	# Default.. nothing
	RewriteRule ^/?$ index.php?s=home&a=main [L,QSA]
</IfModule>